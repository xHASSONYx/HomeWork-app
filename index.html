<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ุชุทุจูู ุงููุงุฌุจุงุช ุงูููููุฉ</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<audio id="clickSound" src="https://cdn.jsdelivr.net/gh/rohitghatol/audio-files/click.mp3" preload="auto"></audio>
<!-- ููุฏ OneSignal ูุฅุดุนุงุฑุงุช ุงูุฌูุงู ุญุชู ูู ุงูุชุทุจูู ูุบูู -->
<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async="async"></script>
<script>
  window.OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "YOUR_ONESIGNAL_APP_ID", // ุถุน ููุง ูุนุฑู ุงูุชุทุจูู ูู ููุญุฉ ุชุญูู OneSignal
      safari_web_id: "YOUR_SAFARI_WEB_ID", // ุฅุฐุง ููุช ุชุฑูุฏ ุฏุนู ุณูุงุฑู
      notifyButton: {
        enable: true,
        size: 'large',
        theme: 'default',
        position: 'bottom-right',
        text: {
          'tip.state.unsubscribed': 'ุชูุนูู ุงูุฅุดุนุงุฑุงุช',
          'tip.state.subscribed': 'ุงูุฅุดุนุงุฑุงุช ููุนูุฉ',
          'tip.state.blocked': 'ุงูุฅุดุนุงุฑุงุช ูุญุฌูุจุฉ',
        }
      }
    });
  });
</script>
</head>
<body>
<!-- ุฅุดุนุงุฑ ุญุฏูุซ ุฃุนูู ุงูุตูุญุฉ -->
<div id="modernAlert" class="modern-alert" style="display:none;"></div>

<!-- ูุงูุฐุฉ ุชุฃููุฏ ุญุฏูุซุฉ ููุญุฐู -->
<div id="modernConfirm" class="modern-confirm" style="display:none;">
    <div class="modern-confirm-content">
        <div class="modern-confirm-text">ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงููุงุฌุจ ุงููุฏููุ</div>
        <div class="modern-confirm-actions">
            <button id="confirmYes" class="modern-btn">ูุนู</button>
            <button id="confirmNo" class="modern-btn">ูุง</button>
        </div>
    </div>
</div>

<!-- ุดุงุดุฉ ุงูุชุฑุญูุจ -->
<div class="welcome-screen" id="welcomeScreen">
    <h1>ูุฑุญุจุงู ุจู </h1>
    <div class="developer">ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ ุญุณููู</div>
    <div class="start-btn-wrapper">
        <button id="startBtn" class="modern-btn start-btn-custom">ุงุจุฏุฃ ุงูุขู</button>
    </div>
    <div class="social-links">
        <a class="social-item" href="https://instagram.com/8o7y_" target="_blank">
            <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram" class="social-icon" />
            <span>Instagram : <b>8o7y_</b></span>
        </a>
        <a class="social-item" href="https://telegram.me/h0_y5" target="_blank">
            <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="Telegram" class="social-icon" />
            <span>Telegram : <b>H0_Y5</b></span>
        </a>
    </div>
</div>

<!-- ูุงุฌูุฉ ุงูุชุทุจูู ุงูุฑุฆูุณูุฉ -->
<div class="container hidden" id="mainApp">
    <div class="theme-toggle-wrapper">
        <button id="themeToggle" class="theme-icon-btn" title="ุชุจุฏูู ุงูุซูู">
            <i id="themeIcon" class="fa fa-moon"></i>
        </button>
    </div>

    <div class="app-title-modern">
        <h1>ุชุทุจูู ุงููุงุฌุจุงุช ุงูููููุฉ</h1>
    </div>

    <!-- ุชุจููุจุงุช -->
    <div class="tab-buttons">
        <button id="homeworkTab" class="active">ุงููุงุฌุจุงุช</button>
        <button id="scheduleTab">ุงูุฌุฏูู</button>
        <button id="notificationTab">ุงูุฅุดุนุงุฑุงุช</button>
    </div>

    <!-- ูุณู ุงููุงุฌุจุงุช -->
    <div id="homeworkSection">

        <div class="input-section vertical-buttons">
            <div class="custom-select-wrapper" id="subjectSelectWrapper">
                <div class="modern-select-btn custom-select-btn" id="subjectSelectBtn">
                    <span class="select-icon"><i class="fa fa-book"></i></span>
                    <span class="select-text">ุงุฎุชุฑ ุงููุงุฏุฉ</span>
                    <span class="arrow">โผ</span>
                </div>
                <ul class="modern-options" id="subjectOptions">
                    <li class="modern-option" data-value="ููููุงุก"><span class="emoji">๐งช</span> ููููุงุก</li>
                    <li class="modern-option" data-value="ููุฒูุงุก"><span class="emoji">โก</span> ููุฒูุงุก</li>
                    <li class="modern-option" data-value="ุฃุญูุงุก"><span class="emoji">๐ฑ</span> ุฃุญูุงุก</li>
                    <li class="modern-option" data-value="ุฑูุงุถูุงุช"><span class="emoji">โ</span> ุฑูุงุถูุงุช</li>
                    <li class="modern-option" data-value="ุงููุบุฉ ุงูุนุฑุจูุฉ"><span class="emoji">๐</span> ุงููุบุฉ ุงูุนุฑุจูุฉ</li>
                    <li class="modern-option" data-value="ุงููุบุฉ ุงูุงููููุฒูุฉ"><span class="emoji">๐ฌ๐ง</span> ุงููุบุฉ ุงูุงููููุฒูุฉ</li>
                    <li class="modern-option" data-value="ุงูุชุฑุจูุฉ ุงูุงุณูุงููุฉ"><span class="emoji">๐</span> ุงูุชุฑุจูุฉ ุงูุงุณูุงููุฉ</li>
                </ul>
            </div>
            <!-- ูุฑุจุน ูุต ุญุฏูุซ ูุฅุฏุฎุงู ุงููุงุฌุจ -->
            <input type="text" id="homeworkInput" class="modern-homework-input" placeholder="ุงูุชุจ ูุงุฌุจู ููุง..." maxlength="120" autocomplete="off" />
            <button id="addHomeworkBtn" class="animated-homework-btn">
                <i class="fa fa-plus-circle"></i>
                <span style="font-size:1.15rem;font-weight:900;letter-spacing:1px;">ุฅุถุงูุฉ ูุงุฌุจ </span>
            </button>
        </div>

        <!-- ุฒุฑ ุงููุงุฌุจุงุช ุงููุฏููุฉ ุงูุฌุฏูุฏ -->
        <button id="showOldTasksBtn" class="modern-toggle" style="margin-bottom:12px;font-size:1.08rem;">
            <i class="fa fa-history"></i>
            <span id="showOldTasksText" style="font-size:1.05rem;font-weight:700;">ุงููุงุฌุจุงุช ุงููุฏููุฉ</span>
        </button>

    <ul id="tasksList" class="modern-list"></ul>
    <ul id="oldTasksList" class="modern-list"></ul>
    </div>

    <!-- ูุณู ุงูุฌุฏูู -->
    <div id="scheduleSection" class="hidden">
        <button id="showAddScheduleSettingsBtn" class="modern-btn" style="margin-bottom:18px;font-size:1.1rem;">ุฅุถุงูุฉ ุฌุฏูู</button>
        <div id="addScheduleSettingsWrapper" style="display:none;">
            <div class="input-section vertical-buttons">
                <div class="custom-select-wrapper" id="scheduleSelectWrapper">
                    <div class="modern-select-btn custom-select-btn" id="scheduleSelectBtn">
                        <span class="select-icon"><i class="fa fa-book"></i></span>
                        <span class="select-text">ุงุฎุชุฑ ุงููุงุฏุฉ</span>
                        <span class="arrow">โผ</span>
                    </div>
                    <ul class="modern-options" id="scheduleOptions">
                        <li class="modern-option" data-value="ููููุงุก"><span class="emoji">๐งช</span> ููููุงุก</li>
                        <li class="modern-option" data-value="ููุฒูุงุก"><span class="emoji">โก</span> ููุฒูุงุก</li>
                        <li class="modern-option" data-value="ุฃุญูุงุก"><span class="emoji">๐ฑ</span> ุฃุญูุงุก</li>
                        <li class="modern-option" data-value="ุฑูุงุถูุงุช"><span class="emoji">โ</span> ุฑูุงุถูุงุช</li>
                        <li class="modern-option" data-value="ุงููุบุฉ ุงูุนุฑุจูุฉ"><span class="emoji">๐</span> ุงููุบุฉ ุงูุนุฑุจูุฉ</li>
                        <li class="modern-option" data-value="ุงููุบุฉ ุงูุงููููุฒูุฉ"><span class="emoji">๐ฌ๐ง</span> ุงููุบุฉ ุงูุงููููุฒูุฉ</li>
                        <li class="modern-option" data-value="ุงูุชุฑุจูุฉ ุงูุงุณูุงููุฉ"><span class="emoji">๐</span> ุงูุชุฑุจูุฉ ุงูุงุณูุงููุฉ</li>
                    </ul>
                </div>
                <div class="custom-select-wrapper" id="scheduleDayWrapper">
                    <div class="modern-select-btn custom-select-btn day-select-btn" id="scheduleDayBtn">
                        <span class="select-icon"><i class="fa fa-calendar-day"></i></span>
                        <span class="select-text">ุงุฎุชุฑ ุงูููู</span>
                        <span class="arrow">โผ</span>
                    </div>
                    <ul class="modern-options" id="scheduleDayOptions">
                        <li class="modern-option" data-value="ุงูุฃุญุฏ"><span class="emoji">๐</span> ุงูุฃุญุฏ</li>
                        <li class="modern-option" data-value="ุงูุงุซููู"><span class="emoji">๐ค๏ธ</span> ุงูุงุซููู</li>
                        <li class="modern-option" data-value="ุงูุซูุงุซุงุก"><span class="emoji">๐ฆ๏ธ</span> ุงูุซูุงุซุงุก</li>
                        <li class="modern-option" data-value="ุงูุฃุฑุจุนุงุก"><span class="emoji">๐ง๏ธ</span> ุงูุฃุฑุจุนุงุก</li>
                        <li class="modern-option" data-value="ุงูุฎููุณ"><span class="emoji">โ</span> ุงูุฎููุณ</li>
                        <li class="modern-option" data-value="ุงูุฌูุนุฉ"><span class="emoji">๐</span> ุงูุฌูุนุฉ</li>
                        <li class="modern-option" data-value="ุงูุณุจุช"><span class="emoji">๐</span> ุงูุณุจุช</li>
                    </ul>
                </div>
                <div class="day-time">
                    <input type="text" id="scheduleTime" class="modern-time-input" placeholder="ุงุฎุชุฑ ุงูููุช" />
                </div>
                <button id="addScheduleBtn" class="animated-homework-btn" style="background:linear-gradient(90deg,#6a11cb,#2575fc);color:#fff;">
                    <i class="fa fa-calendar-plus"></i>
                    <span style="font-size:1.15rem;font-weight:900;letter-spacing:1px;">ุฅุถุงูุฉ ูุญุงุถุฑุฉ </span>
                </button>
            </div>
        </div>
        <ul id="scheduleList" class="modern-list"></ul>
    </div>

    <!-- ูุณู ุงูุฅุดุนุงุฑุงุช -->
    <div id="notificationSection" class="hidden">
        <div class="input-section">
            <!-- ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ ูุจู ุงููุญุงุถุฑุฉ ุจุณุงุนุฉ -->
            <div class="notif-settings-wrapper" style="margin-bottom:24px;">
                <label style="font-weight:900;font-size:1rem;margin-bottom:8px;display:block;">ุฅุดุนุงุฑ ุชููุงุฆู ูุจู ุณุงุนุฉ ูู ุฃู ูุญุงุถุฑุฉ ูุฏูู:</label>
                <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:flex-start;">
                    <button id="enableAutoLectureNotifBtn" class="modern-btn" style="font-size:1.05rem;padding:10px 28px;">ุชูุนูู ุฅุดุนุงุฑ ุงูุชุฐููุฑ</button>
                    <button id="disableAutoLectureNotifBtn" class="modern-btn" style="background:#ff3c3c;font-size:1.05rem;padding:10px 28px;display:none;">ุฅูุบุงุก ุฅุดุนุงุฑ ุงูุชุฐููุฑ</button>
                </div>
                <div style="margin-top:8px;color:#888;font-size:0.92rem;">ุนูุฏ ุงูุชูุนูู ุณูุตูู ุฅุดุนุงุฑ ุชููุงุฆู ูุจู ุณุงุนุฉ ูู ุฃู ูุญุงุถุฑุฉ ูุฏูู ูู ุงูุฌุฏูู.</div>
            </div>
            <div class="auto-lecture-notif-status" style="margin-top:8px;font-weight:700;color:#2575fc;"></div>

            <!-- ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุฏูู: ุฅุดุนุงุฑ ูู ูุฏุฉ ูุญุฏุฏูุง ุงููุณุชุฎุฏู -->
            <div class="notif-settings-wrapper" style="margin-top:32px;">
                <label for="notifInterval" style="font-weight:900;font-size:1rem;margin-bottom:8px;display:block;">ุชูุฑุงุฑ ุงูุฅุดุนุงุฑ ูู:</label>
                <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-start;">
                    <input type="number" id="notifIntervalHour" min="0" value="0" class="modern-homework-input notif-time-input" style="max-width:48px;font-size:0.95rem;padding:8px 10px;" placeholder="ุณ" />
                    <span style="font-weight:700;font-size:0.95rem;">ุณุงุนุฉ</span>
                    <input type="number" id="notifIntervalMin" min="0" value="0" class="modern-homework-input notif-time-input" style="max-width:48px;font-size:0.95rem;padding:8px 10px;" placeholder="ุฏ" />
                    <span style="font-weight:700;font-size:0.95rem;">ุฏูููุฉ</span>
                    <input type="number" id="notifIntervalSec" min="0" value="30" class="modern-homework-input notif-time-input" style="max-width:48px;font-size:0.95rem;padding:8px 10px;" placeholder="ุซ" />
                    <span style="font-weight:700;font-size:0.95rem;">ุซุงููุฉ</span>
                    <button id="enableNotifBtn" class="modern-btn" style="font-size:0.98rem;padding:8px 18px;">ุชูุนูู ุงูุฅุดุนุงุฑุงุช</button>
                    <button id="disableNotifBtn" class="modern-btn" style="background:#ff3c3c;font-size:0.98rem;padding:8px 18px;">ุฅูุบุงุก ุงูุฅุดุนุงุฑุงุช</button>
                </div>
                <div style="margin-top:8px;color:#888;font-size:0.92rem;">ููููู ุชุญุฏูุฏ ุฃู ูุฏุฉ ุชุฑูุฏูุง (ูุซูุงู: 1 ุณุงุนุฉ ู20 ุฏูููุฉ ู30 ุซุงููุฉ ุฃู ูู 30 ุซุงููุฉ)</div>
            </div>
            <div class="notif-status" style="margin-top:8px;font-weight:700;color:#2575fc;"></div>
        </div>
    </div>
</div>

<script src="script.js" defer></script>


<script>
// Show main app when "ุงุจุฏุฃ ุงูุขู" is clicked
document.addEventListener("DOMContentLoaded", function() {
    const themeToggle = document.getElementById("themeToggle");
    const themeIcon = document.getElementById("themeIcon");
    function updateThemeIcon() {
        if(document.body.classList.contains("dark")) {
            themeIcon.classList.remove("fa-moon");
            themeIcon.classList.add("fa-sun");
        } else {
            themeIcon.classList.remove("fa-sun");
            themeIcon.classList.add("fa-moon");
        }
    }
    if(themeToggle) {
        themeToggle.addEventListener("click", function() {
            document.body.classList.toggle("dark");
            updateThemeIcon();
        });
        updateThemeIcon();
    }
    const startBtn = document.getElementById("startBtn");
    const welcomeScreen = document.getElementById("welcomeScreen");
    const mainApp = document.getElementById("mainApp");
    const clickSound = document.getElementById("clickSound");

    function playClick() {
        try {
            clickSound.currentTime = 0;
            clickSound.play().catch(()=>{});
        } catch(e) {}
    }

    function animateButton(btn) {
        btn.classList.add("clicked-animate");
        setTimeout(()=>btn.classList.remove("clicked-animate"), 200);
    }

    // ุฒุฑ ุงุจุฏุฃ ูุน ุชุฃุซูุฑุงุช ุงูุงูุชูุงู
    if (startBtn && welcomeScreen && mainApp) {
        startBtn.addEventListener("click", function() {
            playClick();
            animateButton(startBtn);
            welcomeScreen.style.animation = "welcomeFadeOut 0.7s cubic-bezier(.77,0,.18,1) forwards";
            setTimeout(function() {
                welcomeScreen.classList.add("hidden");
                mainApp.classList.remove("hidden");
                mainApp.classList.add("show");
                mainApp.style.animation = "mainAppFadeIn 0.7s cubic-bezier(.77,0,.18,1)";
            }, 650);
        });
    }

    // ุฌููุน ุงูุฃุฒุฑุงุฑ ุงูุฃุฎุฑู
    document.querySelectorAll("button").forEach(btn => {
        btn.addEventListener("click", function(e) {
            if(btn !== startBtn) {
                playClick();
                animateButton(btn);
            }
        });
    });
});
</script>
</body>
</html>
